ARM GAS  /tmp/cc4eiE1v.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"usbd_ctlreq.c"
  12              		.text
  13              		.section	.text.USBD_GetLen,"ax",%progbits
  14              		.align	1
  15              		.arch armv7-m
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu softvfp
  21              	USBD_GetLen:
  22              		@ args = 0, pretend = 0, frame = 0
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 0023     		movs	r3, #0
  26              	.L2:
  27 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
  28 0004 1AB1     		cbz	r2, .L4
  29 0006 0133     		adds	r3, r3, #1
  30 0008 DBB2     		uxtb	r3, r3
  31 000a 0130     		adds	r0, r0, #1
  32 000c F9E7     		b	.L2
  33              	.L4:
  34 000e 1846     		mov	r0, r3
  35 0010 7047     		bx	lr
  37              		.section	.text.USBD_SetFeature,"ax",%progbits
  38              		.align	1
  39              		.syntax unified
  40              		.thumb
  41              		.thumb_func
  42              		.fpu softvfp
  44              	USBD_SetFeature:
  45              		@ args = 0, pretend = 0, frame = 0
  46              		@ frame_needed = 0, uses_anonymous_args = 0
  47 0000 4B88     		ldrh	r3, [r1, #2]
  48 0002 012B     		cmp	r3, #1
  49 0004 00D0     		beq	.L11
  50 0006 7047     		bx	lr
  51              	.L11:
  52 0008 10B5     		push	{r4, lr}
  53 000a 0446     		mov	r4, r0
  54 000c C0F80432 		str	r3, [r0, #516]
  55 0010 D0F81432 		ldr	r3, [r0, #532]
  56 0014 9B68     		ldr	r3, [r3, #8]
  57 0016 9847     		blx	r3
  58 0018 2046     		mov	r0, r4
  59 001a FFF7FEFF 		bl	USBD_CtlSendStatus
  60 001e 10BD     		pop	{r4, pc}
ARM GAS  /tmp/cc4eiE1v.s 			page 2


  62              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
  63              		.align	1
  64              		.global	USBD_ParseSetupRequest
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu softvfp
  70              	USBD_ParseSetupRequest:
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		@ link register save eliminated.
  74 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  75 0002 0370     		strb	r3, [r0]
  76 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
  77 0006 4370     		strb	r3, [r0, #1]
  78 0008 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
  79 000a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
  80 000c 03EB0223 		add	r3, r3, r2, lsl #8
  81 0010 4380     		strh	r3, [r0, #2]	@ movhi
  82 0012 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
  83 0014 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
  84 0016 03EB0223 		add	r3, r3, r2, lsl #8
  85 001a 8380     		strh	r3, [r0, #4]	@ movhi
  86 001c 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
  87 001e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
  88 0020 03EB0223 		add	r3, r3, r2, lsl #8
  89 0024 C380     		strh	r3, [r0, #6]	@ movhi
  90 0026 7047     		bx	lr
  92              		.section	.text.USBD_CtlError,"ax",%progbits
  93              		.align	1
  94              		.global	USBD_CtlError
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu softvfp
 100              	USBD_CtlError:
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103 0000 10B5     		push	{r4, lr}
 104 0002 0446     		mov	r4, r0
 105 0004 8021     		movs	r1, #128
 106 0006 FFF7FEFF 		bl	USBD_LL_StallEP
 107 000a 0021     		movs	r1, #0
 108 000c 2046     		mov	r0, r4
 109 000e FFF7FEFF 		bl	USBD_LL_StallEP
 110 0012 10BD     		pop	{r4, pc}
 112              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 113              		.align	1
 114              		.syntax unified
 115              		.thumb
 116              		.thumb_func
 117              		.fpu softvfp
 119              	USBD_GetDescriptor:
 120              		@ args = 0, pretend = 0, frame = 8
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122 0000 30B5     		push	{r4, r5, lr}
 123 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/cc4eiE1v.s 			page 3


 124 0004 0446     		mov	r4, r0
 125 0006 0D46     		mov	r5, r1
 126 0008 4A88     		ldrh	r2, [r1, #2]
 127 000a 130A     		lsrs	r3, r2, #8
 128 000c 013B     		subs	r3, r3, #1
 129 000e 062B     		cmp	r3, #6
 130 0010 00F28180 		bhi	.L16
 131 0014 DFE803F0 		tbb	[pc, r3]
 132              	.L18:
 133 0018 04       		.byte	(.L22-.L18)/2
 134 0019 13       		.byte	(.L21-.L18)/2
 135 001a 27       		.byte	(.L20-.L18)/2
 136 001b 7F       		.byte	(.L16-.L18)/2
 137 001c 7F       		.byte	(.L16-.L18)/2
 138 001d 63       		.byte	(.L19-.L18)/2
 139 001e 70       		.byte	(.L17-.L18)/2
 140 001f 00       		.p2align 1
 141              	.L22:
 142 0020 D0F81032 		ldr	r3, [r0, #528]
 143 0024 1B68     		ldr	r3, [r3]
 144 0026 0DF10601 		add	r1, sp, #6
 145 002a 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 146 002c 9847     		blx	r3
 147              	.L23:
 148 002e BDF80620 		ldrh	r2, [sp, #6]
 149 0032 12B1     		cbz	r2, .L15
 150 0034 EB88     		ldrh	r3, [r5, #6]
 151 0036 002B     		cmp	r3, #0
 152 0038 71D1     		bne	.L39
 153              	.L15:
 154 003a 03B0     		add	sp, sp, #12
 155              		@ sp needed
 156 003c 30BD     		pop	{r4, r5, pc}
 157              	.L21:
 158 003e 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 159 0040 43B9     		cbnz	r3, .L24
 160 0042 D0F81432 		ldr	r3, [r0, #532]
 161 0046 9B6A     		ldr	r3, [r3, #40]
 162 0048 0DF10600 		add	r0, sp, #6
 163 004c 9847     		blx	r3
 164 004e 0223     		movs	r3, #2
 165 0050 4370     		strb	r3, [r0, #1]
 166 0052 ECE7     		b	.L23
 167              	.L24:
 168 0054 D0F81432 		ldr	r3, [r0, #532]
 169 0058 DB6A     		ldr	r3, [r3, #44]
 170 005a 0DF10600 		add	r0, sp, #6
 171 005e 9847     		blx	r3
 172 0060 0223     		movs	r3, #2
 173 0062 4370     		strb	r3, [r0, #1]
 174 0064 E3E7     		b	.L23
 175              	.L20:
 176 0066 D2B2     		uxtb	r2, r2
 177 0068 052A     		cmp	r2, #5
 178 006a 34D8     		bhi	.L25
 179 006c DFE802F0 		tbb	[pc, r2]
 180              	.L27:
ARM GAS  /tmp/cc4eiE1v.s 			page 4


 181 0070 03       		.byte	(.L32-.L27)/2
 182 0071 0B       		.byte	(.L31-.L27)/2
 183 0072 13       		.byte	(.L30-.L27)/2
 184 0073 1B       		.byte	(.L29-.L27)/2
 185 0074 23       		.byte	(.L28-.L27)/2
 186 0075 2B       		.byte	(.L26-.L27)/2
 187              		.p2align 1
 188              	.L32:
 189 0076 D0F81032 		ldr	r3, [r0, #528]
 190 007a 5B68     		ldr	r3, [r3, #4]
 191 007c 0DF10601 		add	r1, sp, #6
 192 0080 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 193 0082 9847     		blx	r3
 194 0084 D3E7     		b	.L23
 195              	.L31:
 196 0086 D0F81032 		ldr	r3, [r0, #528]
 197 008a 9B68     		ldr	r3, [r3, #8]
 198 008c 0DF10601 		add	r1, sp, #6
 199 0090 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 200 0092 9847     		blx	r3
 201 0094 CBE7     		b	.L23
 202              	.L30:
 203 0096 D0F81032 		ldr	r3, [r0, #528]
 204 009a DB68     		ldr	r3, [r3, #12]
 205 009c 0DF10601 		add	r1, sp, #6
 206 00a0 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 207 00a2 9847     		blx	r3
 208 00a4 C3E7     		b	.L23
 209              	.L29:
 210 00a6 D0F81032 		ldr	r3, [r0, #528]
 211 00aa 1B69     		ldr	r3, [r3, #16]
 212 00ac 0DF10601 		add	r1, sp, #6
 213 00b0 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 214 00b2 9847     		blx	r3
 215 00b4 BBE7     		b	.L23
 216              	.L28:
 217 00b6 D0F81032 		ldr	r3, [r0, #528]
 218 00ba 5B69     		ldr	r3, [r3, #20]
 219 00bc 0DF10601 		add	r1, sp, #6
 220 00c0 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 221 00c2 9847     		blx	r3
 222 00c4 B3E7     		b	.L23
 223              	.L26:
 224 00c6 D0F81032 		ldr	r3, [r0, #528]
 225 00ca 9B69     		ldr	r3, [r3, #24]
 226 00cc 0DF10601 		add	r1, sp, #6
 227 00d0 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 228 00d2 9847     		blx	r3
 229 00d4 ABE7     		b	.L23
 230              	.L25:
 231 00d6 2946     		mov	r1, r5
 232 00d8 FFF7FEFF 		bl	USBD_CtlError
 233 00dc ADE7     		b	.L15
 234              	.L19:
 235 00de 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 236 00e0 33B9     		cbnz	r3, .L34
 237 00e2 D0F81432 		ldr	r3, [r0, #532]
ARM GAS  /tmp/cc4eiE1v.s 			page 5


 238 00e6 5B6B     		ldr	r3, [r3, #52]
 239 00e8 0DF10600 		add	r0, sp, #6
 240 00ec 9847     		blx	r3
 241 00ee 9EE7     		b	.L23
 242              	.L34:
 243 00f0 2946     		mov	r1, r5
 244 00f2 FFF7FEFF 		bl	USBD_CtlError
 245 00f6 A0E7     		b	.L15
 246              	.L17:
 247 00f8 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 248 00fa 43B9     		cbnz	r3, .L35
 249 00fc D0F81432 		ldr	r3, [r0, #532]
 250 0100 1B6B     		ldr	r3, [r3, #48]
 251 0102 0DF10600 		add	r0, sp, #6
 252 0106 9847     		blx	r3
 253 0108 0723     		movs	r3, #7
 254 010a 4370     		strb	r3, [r0, #1]
 255 010c 8FE7     		b	.L23
 256              	.L35:
 257 010e 2946     		mov	r1, r5
 258 0110 FFF7FEFF 		bl	USBD_CtlError
 259 0114 91E7     		b	.L15
 260              	.L16:
 261 0116 2946     		mov	r1, r5
 262 0118 FFF7FEFF 		bl	USBD_CtlError
 263 011c 8DE7     		b	.L15
 264              	.L39:
 265 011e 9A42     		cmp	r2, r3
 266 0120 28BF     		it	cs
 267 0122 1A46     		movcs	r2, r3
 268 0124 ADF80620 		strh	r2, [sp, #6]	@ movhi
 269 0128 0146     		mov	r1, r0
 270 012a 2046     		mov	r0, r4
 271 012c FFF7FEFF 		bl	USBD_CtlSendData
 272 0130 83E7     		b	.L15
 274              		.section	.text.USBD_SetAddress,"ax",%progbits
 275              		.align	1
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 279              		.fpu softvfp
 281              	USBD_SetAddress:
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 0, uses_anonymous_args = 0
 284 0000 38B5     		push	{r3, r4, r5, lr}
 285 0002 0446     		mov	r4, r0
 286 0004 8B88     		ldrh	r3, [r1, #4]
 287 0006 E3B9     		cbnz	r3, .L41
 288 0008 CB88     		ldrh	r3, [r1, #6]
 289 000a D3B9     		cbnz	r3, .L41
 290 000c 8D78     		ldrb	r5, [r1, #2]	@ zero_extendqisi2
 291 000e 05F07F05 		and	r5, r5, #127
 292 0012 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 293 0016 032B     		cmp	r3, #3
 294 0018 0CD0     		beq	.L46
 295 001a 80F8FE51 		strb	r5, [r0, #510]
 296 001e 2946     		mov	r1, r5
ARM GAS  /tmp/cc4eiE1v.s 			page 6


 297 0020 FFF7FEFF 		bl	USBD_LL_SetUSBAddress
 298 0024 2046     		mov	r0, r4
 299 0026 FFF7FEFF 		bl	USBD_CtlSendStatus
 300 002a 35B1     		cbz	r5, .L44
 301 002c 0223     		movs	r3, #2
 302 002e 84F8FC31 		strb	r3, [r4, #508]
 303 0032 09E0     		b	.L40
 304              	.L46:
 305 0034 FFF7FEFF 		bl	USBD_CtlError
 306 0038 06E0     		b	.L40
 307              	.L44:
 308 003a 0123     		movs	r3, #1
 309 003c 84F8FC31 		strb	r3, [r4, #508]
 310 0040 02E0     		b	.L40
 311              	.L41:
 312 0042 2046     		mov	r0, r4
 313 0044 FFF7FEFF 		bl	USBD_CtlError
 314              	.L40:
 315 0048 38BD     		pop	{r3, r4, r5, pc}
 317              		.section	.text.USBD_SetConfig,"ax",%progbits
 318              		.align	1
 319              		.syntax unified
 320              		.thumb
 321              		.thumb_func
 322              		.fpu softvfp
 324              	USBD_SetConfig:
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327 0000 38B5     		push	{r3, r4, r5, lr}
 328 0002 0446     		mov	r4, r0
 329 0004 0D46     		mov	r5, r1
 330 0006 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 331 0008 254B     		ldr	r3, .L64
 332 000a 1970     		strb	r1, [r3]
 333 000c 0129     		cmp	r1, #1
 334 000e 09D8     		bhi	.L60
 335 0010 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 336 0014 022B     		cmp	r3, #2
 337 0016 09D0     		beq	.L50
 338 0018 032B     		cmp	r3, #3
 339 001a 1CD0     		beq	.L51
 340 001c 2946     		mov	r1, r5
 341 001e FFF7FEFF 		bl	USBD_CtlError
 342 0022 02E0     		b	.L47
 343              	.L60:
 344 0024 2946     		mov	r1, r5
 345 0026 FFF7FEFF 		bl	USBD_CtlError
 346              	.L47:
 347 002a 38BD     		pop	{r3, r4, r5, pc}
 348              	.L50:
 349 002c 81B1     		cbz	r1, .L53
 350 002e 4160     		str	r1, [r0, #4]
 351 0030 0323     		movs	r3, #3
 352 0032 80F8FC31 		strb	r3, [r0, #508]
 353 0036 FFF7FEFF 		bl	USBD_SetClassConfig
 354 003a 0228     		cmp	r0, #2
 355 003c 03D0     		beq	.L61
ARM GAS  /tmp/cc4eiE1v.s 			page 7


 356 003e 2046     		mov	r0, r4
 357 0040 FFF7FEFF 		bl	USBD_CtlSendStatus
 358 0044 F1E7     		b	.L47
 359              	.L61:
 360 0046 2946     		mov	r1, r5
 361 0048 2046     		mov	r0, r4
 362 004a FFF7FEFF 		bl	USBD_CtlError
 363 004e ECE7     		b	.L47
 364              	.L53:
 365 0050 FFF7FEFF 		bl	USBD_CtlSendStatus
 366 0054 E9E7     		b	.L47
 367              	.L51:
 368 0056 89B1     		cbz	r1, .L62
 369 0058 4368     		ldr	r3, [r0, #4]
 370 005a 9942     		cmp	r1, r3
 371 005c 1DD0     		beq	.L56
 372 005e D9B2     		uxtb	r1, r3
 373 0060 FFF7FEFF 		bl	USBD_ClrClassConfig
 374 0064 0E4B     		ldr	r3, .L64
 375 0066 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 376 0068 6160     		str	r1, [r4, #4]
 377 006a 2046     		mov	r0, r4
 378 006c FFF7FEFF 		bl	USBD_SetClassConfig
 379 0070 0228     		cmp	r0, #2
 380 0072 0DD0     		beq	.L63
 381 0074 2046     		mov	r0, r4
 382 0076 FFF7FEFF 		bl	USBD_CtlSendStatus
 383 007a D6E7     		b	.L47
 384              	.L62:
 385 007c 0223     		movs	r3, #2
 386 007e 80F8FC31 		strb	r3, [r0, #508]
 387 0082 4160     		str	r1, [r0, #4]
 388 0084 FFF7FEFF 		bl	USBD_ClrClassConfig
 389 0088 2046     		mov	r0, r4
 390 008a FFF7FEFF 		bl	USBD_CtlSendStatus
 391 008e CCE7     		b	.L47
 392              	.L63:
 393 0090 2946     		mov	r1, r5
 394 0092 2046     		mov	r0, r4
 395 0094 FFF7FEFF 		bl	USBD_CtlError
 396 0098 C7E7     		b	.L47
 397              	.L56:
 398 009a FFF7FEFF 		bl	USBD_CtlSendStatus
 399 009e C4E7     		b	.L47
 400              	.L65:
 401              		.align	2
 402              	.L64:
 403 00a0 00000000 		.word	.LANCHOR0
 405              		.section	.text.USBD_GetConfig,"ax",%progbits
 406              		.align	1
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 410              		.fpu softvfp
 412              	USBD_GetConfig:
 413              		@ args = 0, pretend = 0, frame = 0
 414              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc4eiE1v.s 			page 8


 415 0000 08B5     		push	{r3, lr}
 416 0002 CB88     		ldrh	r3, [r1, #6]
 417 0004 012B     		cmp	r3, #1
 418 0006 08D1     		bne	.L74
 419 0008 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 420 000c 022B     		cmp	r3, #2
 421 000e 07D0     		beq	.L69
 422 0010 032B     		cmp	r3, #3
 423 0012 0DD0     		beq	.L70
 424 0014 FFF7FEFF 		bl	USBD_CtlError
 425 0018 01E0     		b	.L66
 426              	.L74:
 427 001a FFF7FEFF 		bl	USBD_CtlError
 428              	.L66:
 429 001e 08BD     		pop	{r3, pc}
 430              	.L69:
 431 0020 0146     		mov	r1, r0
 432 0022 0023     		movs	r3, #0
 433 0024 41F8083F 		str	r3, [r1, #8]!
 434 0028 0122     		movs	r2, #1
 435 002a FFF7FEFF 		bl	USBD_CtlSendData
 436 002e F6E7     		b	.L66
 437              	.L70:
 438 0030 0122     		movs	r2, #1
 439 0032 011D     		adds	r1, r0, #4
 440 0034 FFF7FEFF 		bl	USBD_CtlSendData
 441 0038 F1E7     		b	.L66
 443              		.section	.text.USBD_GetStatus,"ax",%progbits
 444              		.align	1
 445              		.syntax unified
 446              		.thumb
 447              		.thumb_func
 448              		.fpu softvfp
 450              	USBD_GetStatus:
 451              		@ args = 0, pretend = 0, frame = 0
 452              		@ frame_needed = 0, uses_anonymous_args = 0
 453 0000 08B5     		push	{r3, lr}
 454 0002 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 455 0006 023B     		subs	r3, r3, #2
 456 0008 012B     		cmp	r3, #1
 457 000a 0CD8     		bhi	.L76
 458 000c 0123     		movs	r3, #1
 459 000e C360     		str	r3, [r0, #12]
 460 0010 D0F80432 		ldr	r3, [r0, #516]
 461 0014 0BB1     		cbz	r3, .L77
 462 0016 0323     		movs	r3, #3
 463 0018 C360     		str	r3, [r0, #12]
 464              	.L77:
 465 001a 0222     		movs	r2, #2
 466 001c 00F10C01 		add	r1, r0, #12
 467 0020 FFF7FEFF 		bl	USBD_CtlSendData
 468              	.L75:
 469 0024 08BD     		pop	{r3, pc}
 470              	.L76:
 471 0026 FFF7FEFF 		bl	USBD_CtlError
 472 002a FBE7     		b	.L75
 474              		.section	.text.USBD_ClrFeature,"ax",%progbits
ARM GAS  /tmp/cc4eiE1v.s 			page 9


 475              		.align	1
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 479              		.fpu softvfp
 481              	USBD_ClrFeature:
 482              		@ args = 0, pretend = 0, frame = 0
 483              		@ frame_needed = 0, uses_anonymous_args = 0
 484 0000 10B5     		push	{r4, lr}
 485 0002 0446     		mov	r4, r0
 486 0004 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 487 0008 023B     		subs	r3, r3, #2
 488 000a 012B     		cmp	r3, #1
 489 000c 0DD8     		bhi	.L81
 490 000e 4B88     		ldrh	r3, [r1, #2]
 491 0010 012B     		cmp	r3, #1
 492 0012 0CD1     		bne	.L80
 493 0014 0023     		movs	r3, #0
 494 0016 C0F80432 		str	r3, [r0, #516]
 495 001a D0F81432 		ldr	r3, [r0, #532]
 496 001e 9B68     		ldr	r3, [r3, #8]
 497 0020 9847     		blx	r3
 498 0022 2046     		mov	r0, r4
 499 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 500 0028 01E0     		b	.L80
 501              	.L81:
 502 002a FFF7FEFF 		bl	USBD_CtlError
 503              	.L80:
 504 002e 10BD     		pop	{r4, pc}
 506              		.section	.text.USBD_StdDevReq,"ax",%progbits
 507              		.align	1
 508              		.global	USBD_StdDevReq
 509              		.syntax unified
 510              		.thumb
 511              		.thumb_func
 512              		.fpu softvfp
 514              	USBD_StdDevReq:
 515              		@ args = 0, pretend = 0, frame = 0
 516              		@ frame_needed = 0, uses_anonymous_args = 0
 517 0000 08B5     		push	{r3, lr}
 518 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 519 0004 092B     		cmp	r3, #9
 520 0006 1CD8     		bhi	.L85
 521 0008 DFE803F0 		tbb	[pc, r3]
 522              	.L87:
 523 000c 12       		.byte	(.L93-.L87)/2
 524 000d 18       		.byte	(.L92-.L87)/2
 525 000e 1B       		.byte	(.L85-.L87)/2
 526 000f 15       		.byte	(.L91-.L87)/2
 527 0010 1B       		.byte	(.L85-.L87)/2
 528 0011 09       		.byte	(.L90-.L87)/2
 529 0012 05       		.byte	(.L89-.L87)/2
 530 0013 1B       		.byte	(.L85-.L87)/2
 531 0014 0F       		.byte	(.L88-.L87)/2
 532 0015 0C       		.byte	(.L86-.L87)/2
 533              		.p2align 1
 534              	.L89:
ARM GAS  /tmp/cc4eiE1v.s 			page 10


 535 0016 FFF7FEFF 		bl	USBD_GetDescriptor
 536              	.L94:
 537 001a 0020     		movs	r0, #0
 538 001c 08BD     		pop	{r3, pc}
 539              	.L90:
 540 001e FFF7FEFF 		bl	USBD_SetAddress
 541 0022 FAE7     		b	.L94
 542              	.L86:
 543 0024 FFF7FEFF 		bl	USBD_SetConfig
 544 0028 F7E7     		b	.L94
 545              	.L88:
 546 002a FFF7FEFF 		bl	USBD_GetConfig
 547 002e F4E7     		b	.L94
 548              	.L93:
 549 0030 FFF7FEFF 		bl	USBD_GetStatus
 550 0034 F1E7     		b	.L94
 551              	.L91:
 552 0036 FFF7FEFF 		bl	USBD_SetFeature
 553 003a EEE7     		b	.L94
 554              	.L92:
 555 003c FFF7FEFF 		bl	USBD_ClrFeature
 556 0040 EBE7     		b	.L94
 557              	.L85:
 558 0042 FFF7FEFF 		bl	USBD_CtlError
 559 0046 E8E7     		b	.L94
 561              		.section	.text.USBD_StdItfReq,"ax",%progbits
 562              		.align	1
 563              		.global	USBD_StdItfReq
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 567              		.fpu softvfp
 569              	USBD_StdItfReq:
 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 0, uses_anonymous_args = 0
 572 0000 38B5     		push	{r3, r4, r5, lr}
 573 0002 0446     		mov	r4, r0
 574 0004 0D46     		mov	r5, r1
 575 0006 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 576 000a 032B     		cmp	r3, #3
 577 000c 0FD1     		bne	.L97
 578 000e 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 579 0010 012B     		cmp	r3, #1
 580 0012 09D8     		bhi	.L98
 581 0014 D0F81432 		ldr	r3, [r0, #532]
 582 0018 9B68     		ldr	r3, [r3, #8]
 583 001a 9847     		blx	r3
 584 001c EB88     		ldrh	r3, [r5, #6]
 585 001e 43B9     		cbnz	r3, .L99
 586 0020 2046     		mov	r0, r4
 587 0022 FFF7FEFF 		bl	USBD_CtlSendStatus
 588 0026 04E0     		b	.L99
 589              	.L98:
 590 0028 FFF7FEFF 		bl	USBD_CtlError
 591 002c 01E0     		b	.L99
 592              	.L97:
 593 002e FFF7FEFF 		bl	USBD_CtlError
ARM GAS  /tmp/cc4eiE1v.s 			page 11


 594              	.L99:
 595 0032 0020     		movs	r0, #0
 596 0034 38BD     		pop	{r3, r4, r5, pc}
 598              		.section	.text.USBD_StdEPReq,"ax",%progbits
 599              		.align	1
 600              		.global	USBD_StdEPReq
 601              		.syntax unified
 602              		.thumb
 603              		.thumb_func
 604              		.fpu softvfp
 606              	USBD_StdEPReq:
 607              		@ args = 0, pretend = 0, frame = 0
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 609 0000 38B5     		push	{r3, r4, r5, lr}
 610 0002 0546     		mov	r5, r0
 611 0004 0C46     		mov	r4, r1
 612 0006 8A88     		ldrh	r2, [r1, #4]
 613 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 614 000a 03F06003 		and	r3, r3, #96
 615 000e 202B     		cmp	r3, #32
 616 0010 13D0     		beq	.L125
 617 0012 D1B2     		uxtb	r1, r2
 618 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 619 0016 012B     		cmp	r3, #1
 620 0018 30D0     		beq	.L104
 621 001a 58B2     		sxtb	r0, r3
 622 001c 0028     		cmp	r0, #0
 623 001e 51D0     		beq	.L105
 624 0020 032B     		cmp	r3, #3
 625 0022 0ED1     		bne	.L103
 626 0024 95F8FC31 		ldrb	r3, [r5, #508]	@ zero_extendqisi2
 627 0028 022B     		cmp	r3, #2
 628 002a 0CD0     		beq	.L106
 629 002c 032B     		cmp	r3, #3
 630 002e 12D0     		beq	.L107
 631 0030 2146     		mov	r1, r4
 632 0032 2846     		mov	r0, r5
 633 0034 FFF7FEFF 		bl	USBD_CtlError
 634 0038 03E0     		b	.L103
 635              	.L125:
 636 003a D0F81432 		ldr	r3, [r0, #532]
 637 003e 9B68     		ldr	r3, [r3, #8]
 638 0040 9847     		blx	r3
 639              	.L103:
 640 0042 0020     		movs	r0, #0
 641 0044 38BD     		pop	{r3, r4, r5, pc}
 642              	.L106:
 643 0046 0029     		cmp	r1, #0
 644 0048 FBD0     		beq	.L103
 645 004a 8029     		cmp	r1, #128
 646 004c F9D0     		beq	.L103
 647 004e 2846     		mov	r0, r5
 648 0050 FFF7FEFF 		bl	USBD_LL_StallEP
 649 0054 F5E7     		b	.L103
 650              	.L107:
 651 0056 6388     		ldrh	r3, [r4, #2]
 652 0058 13B9     		cbnz	r3, .L109
ARM GAS  /tmp/cc4eiE1v.s 			page 12


 653 005a 09B1     		cbz	r1, .L109
 654 005c 8029     		cmp	r1, #128
 655 005e 09D1     		bne	.L126
 656              	.L109:
 657 0060 D5F81432 		ldr	r3, [r5, #532]
 658 0064 9B68     		ldr	r3, [r3, #8]
 659 0066 2146     		mov	r1, r4
 660 0068 2846     		mov	r0, r5
 661 006a 9847     		blx	r3
 662 006c 2846     		mov	r0, r5
 663 006e FFF7FEFF 		bl	USBD_CtlSendStatus
 664 0072 E6E7     		b	.L103
 665              	.L126:
 666 0074 2846     		mov	r0, r5
 667 0076 FFF7FEFF 		bl	USBD_LL_StallEP
 668 007a F1E7     		b	.L109
 669              	.L104:
 670 007c 90F8FC31 		ldrb	r3, [r0, #508]	@ zero_extendqisi2
 671 0080 022B     		cmp	r3, #2
 672 0082 05D0     		beq	.L110
 673 0084 032B     		cmp	r3, #3
 674 0086 0AD0     		beq	.L111
 675 0088 2146     		mov	r1, r4
 676 008a FFF7FEFF 		bl	USBD_CtlError
 677 008e D8E7     		b	.L103
 678              	.L110:
 679 0090 0029     		cmp	r1, #0
 680 0092 D6D0     		beq	.L103
 681 0094 8029     		cmp	r1, #128
 682 0096 D4D0     		beq	.L103
 683 0098 FFF7FEFF 		bl	USBD_LL_StallEP
 684 009c D1E7     		b	.L103
 685              	.L111:
 686 009e 6388     		ldrh	r3, [r4, #2]
 687 00a0 002B     		cmp	r3, #0
 688 00a2 CED1     		bne	.L103
 689 00a4 11F07F0F 		tst	r1, #127
 690 00a8 03D1     		bne	.L127
 691              	.L113:
 692 00aa 2846     		mov	r0, r5
 693 00ac FFF7FEFF 		bl	USBD_CtlSendStatus
 694 00b0 C7E7     		b	.L103
 695              	.L127:
 696 00b2 FFF7FEFF 		bl	USBD_LL_ClearStallEP
 697 00b6 D5F81432 		ldr	r3, [r5, #532]
 698 00ba 9B68     		ldr	r3, [r3, #8]
 699 00bc 2146     		mov	r1, r4
 700 00be 2846     		mov	r0, r5
 701 00c0 9847     		blx	r3
 702 00c2 F2E7     		b	.L113
 703              	.L105:
 704 00c4 95F8FC31 		ldrb	r3, [r5, #508]	@ zero_extendqisi2
 705 00c8 022B     		cmp	r3, #2
 706 00ca 06D0     		beq	.L114
 707 00cc 032B     		cmp	r3, #3
 708 00ce 0BD0     		beq	.L115
 709 00d0 2146     		mov	r1, r4
ARM GAS  /tmp/cc4eiE1v.s 			page 13


 710 00d2 2846     		mov	r0, r5
 711 00d4 FFF7FEFF 		bl	USBD_CtlError
 712 00d8 B3E7     		b	.L103
 713              	.L114:
 714 00da 11F07F0F 		tst	r1, #127
 715 00de B0D0     		beq	.L103
 716 00e0 2846     		mov	r0, r5
 717 00e2 FFF7FEFF 		bl	USBD_LL_StallEP
 718 00e6 ACE7     		b	.L103
 719              	.L115:
 720 00e8 12F0800F 		tst	r2, #128
 721 00ec 11D1     		bne	.L128
 722 00ee 01F07F04 		and	r4, r1, #127
 723 00f2 1034     		adds	r4, r4, #16
 724 00f4 05EB0414 		add	r4, r5, r4, lsl #4
 725 00f8 0434     		adds	r4, r4, #4
 726              	.L118:
 727 00fa 2846     		mov	r0, r5
 728 00fc FFF7FEFF 		bl	USBD_LL_IsStallEP
 729 0100 70B1     		cbz	r0, .L119
 730 0102 0123     		movs	r3, #1
 731 0104 2360     		str	r3, [r4]
 732              	.L120:
 733 0106 0222     		movs	r2, #2
 734 0108 2146     		mov	r1, r4
 735 010a 2846     		mov	r0, r5
 736 010c FFF7FEFF 		bl	USBD_CtlSendData
 737 0110 97E7     		b	.L103
 738              	.L128:
 739 0112 01F07F04 		and	r4, r1, #127
 740 0116 0134     		adds	r4, r4, #1
 741 0118 05EB0414 		add	r4, r5, r4, lsl #4
 742 011c 0434     		adds	r4, r4, #4
 743 011e ECE7     		b	.L118
 744              	.L119:
 745 0120 0023     		movs	r3, #0
 746 0122 2360     		str	r3, [r4]
 747 0124 EFE7     		b	.L120
 749              		.section	.text.USBD_GetString,"ax",%progbits
 750              		.align	1
 751              		.global	USBD_GetString
 752              		.syntax unified
 753              		.thumb
 754              		.thumb_func
 755              		.fpu softvfp
 757              	USBD_GetString:
 758              		@ args = 0, pretend = 0, frame = 0
 759              		@ frame_needed = 0, uses_anonymous_args = 0
 760 0000 C8B1     		cbz	r0, .L134
 761 0002 70B5     		push	{r4, r5, r6, lr}
 762 0004 0D46     		mov	r5, r1
 763 0006 1646     		mov	r6, r2
 764 0008 0446     		mov	r4, r0
 765 000a FFF7FEFF 		bl	USBD_GetLen
 766 000e 0130     		adds	r0, r0, #1
 767 0010 4000     		lsls	r0, r0, #1
 768 0012 80B2     		uxth	r0, r0
ARM GAS  /tmp/cc4eiE1v.s 			page 14


 769 0014 3080     		strh	r0, [r6]	@ movhi
 770 0016 2870     		strb	r0, [r5]
 771 0018 0323     		movs	r3, #3
 772 001a 6B70     		strb	r3, [r5, #1]
 773 001c 0223     		movs	r3, #2
 774              	.L131:
 775 001e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 776 0020 41B1     		cbz	r1, .L137
 777 0022 0134     		adds	r4, r4, #1
 778 0024 5A1C     		adds	r2, r3, #1
 779 0026 D2B2     		uxtb	r2, r2
 780 0028 E954     		strb	r1, [r5, r3]
 781 002a 0233     		adds	r3, r3, #2
 782 002c DBB2     		uxtb	r3, r3
 783 002e 0021     		movs	r1, #0
 784 0030 A954     		strb	r1, [r5, r2]
 785 0032 F4E7     		b	.L131
 786              	.L137:
 787 0034 70BD     		pop	{r4, r5, r6, pc}
 788              	.L134:
 789 0036 7047     		bx	lr
 791              		.section	.bss.cfgidx.7780,"aw",%nobits
 792              		.set	.LANCHOR0,. + 0
 795              	cfgidx.7780:
 796 0000 00       		.space	1
 797              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 8-2018-q4-major) 8.2.1 20181213 (release) [gcc
ARM GAS  /tmp/cc4eiE1v.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_ctlreq.c
     /tmp/cc4eiE1v.s:14     .text.USBD_GetLen:0000000000000000 $t
     /tmp/cc4eiE1v.s:21     .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/cc4eiE1v.s:38     .text.USBD_SetFeature:0000000000000000 $t
     /tmp/cc4eiE1v.s:44     .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
     /tmp/cc4eiE1v.s:63     .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/cc4eiE1v.s:70     .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/cc4eiE1v.s:93     .text.USBD_CtlError:0000000000000000 $t
     /tmp/cc4eiE1v.s:100    .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/cc4eiE1v.s:113    .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/cc4eiE1v.s:119    .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/cc4eiE1v.s:133    .text.USBD_GetDescriptor:0000000000000018 $d
     /tmp/cc4eiE1v.s:181    .text.USBD_GetDescriptor:0000000000000070 $d
     /tmp/cc4eiE1v.s:187    .text.USBD_GetDescriptor:0000000000000076 $t
     /tmp/cc4eiE1v.s:275    .text.USBD_SetAddress:0000000000000000 $t
     /tmp/cc4eiE1v.s:281    .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/cc4eiE1v.s:318    .text.USBD_SetConfig:0000000000000000 $t
     /tmp/cc4eiE1v.s:324    .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/cc4eiE1v.s:403    .text.USBD_SetConfig:00000000000000a0 $d
     /tmp/cc4eiE1v.s:406    .text.USBD_GetConfig:0000000000000000 $t
     /tmp/cc4eiE1v.s:412    .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/cc4eiE1v.s:444    .text.USBD_GetStatus:0000000000000000 $t
     /tmp/cc4eiE1v.s:450    .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/cc4eiE1v.s:475    .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/cc4eiE1v.s:481    .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/cc4eiE1v.s:507    .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/cc4eiE1v.s:514    .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/cc4eiE1v.s:523    .text.USBD_StdDevReq:000000000000000c $d
     /tmp/cc4eiE1v.s:533    .text.USBD_StdDevReq:0000000000000016 $t
     /tmp/cc4eiE1v.s:562    .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/cc4eiE1v.s:569    .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/cc4eiE1v.s:599    .text.USBD_StdEPReq:0000000000000000 $t
     /tmp/cc4eiE1v.s:606    .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/cc4eiE1v.s:750    .text.USBD_GetString:0000000000000000 $t
     /tmp/cc4eiE1v.s:757    .text.USBD_GetString:0000000000000000 USBD_GetString
     /tmp/cc4eiE1v.s:795    .bss.cfgidx.7780:0000000000000000 cfgidx.7780
     /tmp/cc4eiE1v.s:796    .bss.cfgidx.7780:0000000000000000 $d
     /tmp/cc4eiE1v.s:140    .text.USBD_GetDescriptor:000000000000001f $d
     /tmp/cc4eiE1v.s:140    .text.USBD_GetDescriptor:0000000000000020 $t

UNDEFINED SYMBOLS
USBD_CtlSendStatus
USBD_LL_StallEP
USBD_CtlSendData
USBD_LL_SetUSBAddress
USBD_SetClassConfig
USBD_ClrClassConfig
USBD_LL_ClearStallEP
USBD_LL_IsStallEP
